section#TTT_game{

	.input_holder{
		width:50%;
		margin-bottom: 25px;

		&.message {
			width: 100%;
			margin-bottom: 0;
		}

		label {
			@include font-size(16px);
			display: block;
			margin-bottom: 11px;
			width: 100%;
			font-weight: 300;

			span.required {
				display: none;
			}
		}

		.input {
			@include textInput(90%);
			border: 1px solid #ebe6f1;
		}
		.input.password{
			@include textInput(90%);
			border: 1px solid #ebe6f1;
		}
		.input.textarea {
			@include textInput(95%);
			border: 1px solid #ebe6f1;
			height: 100px;
			line-height:1.5em;
			padding-top:10px;
		}

		&.select_option select{
			border-radius: 7px;
		  border:none;
		  padding:0 18px;
		  height: 46px;
		  background:#fff;
		  border: 1px solid #ebe6f1;
		  box-shadow:0px 4px 0px 0px #ebe6f1;
		  color: #888888;
		  font-style: italic;
		  @include font-size(18px);
		  font-weight: 300;
			width: 90%;
		}
		&.error {
			label{
				.required {
					display: inline;
					color:$colorSecondary;
				}
			}
			.input {
					@include textInput(90%);
					border: 1px solid $colorSecondary;
					color: $colorSecondary;
			}
			.input.textarea {
					@include textInput(95%);
					border: 1px solid $colorSecondary;
					height: 100px;
					line-height:1.5em;
					padding-top:10px;
			}				
			::-webkit-input-placeholder {
			    color:    $colorSecondary;
			}
			:-moz-placeholder {
			   color:    $colorSecondary;
			   opacity:  1;
			}
			::-moz-placeholder {
			   color:    $colorSecondary;
			   opacity:  1;
			}
			:-ms-input-placeholder {
			   color:    $colorSecondary;
			}
			:placeholder-shown {
			  color:    $colorSecondary;
			}							
		}

		&.select_option.error select{
		  border: 1px solid $colorSecondary;
		  color: $colorSecondary;
		}			
	}

	.ttt-shell {
		max-width: 980px;
		margin: 0 auto;
		padding: 32px 24px 48px;
	}

	.ttt-flow {
		display: flex;
		flex-direction: column;
		align-items: center;
	}

	.ttt-flow > h2 {
		width: 100%;
		max-width: 980px;
		padding: 0 24px;
		margin: 0 auto 12px;
		text-align: left;
	}

	.button {
		@include button(179px,50px,4px,$colorSecondary,$colorSecondaryDark,#fff);
		font-family: $hdrFont;
		@include font-size(18px);
		margin-top:24px;

		&.long {
			width: 300px;
		}	

		&.ghost {
			background: #fff;
			color: #2b2b40;
			border: 1px solid #d8d5e8;
			box-shadow: none;
			width: auto;
			height: auto;
			padding: 10px 16px;
			margin-top: 0;
		}
	}

	#GameMain {
		width: 100%;

		h1 {
			margin: 0;
		}

		.game-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			flex-wrap: wrap;
			gap: 16px;
			margin-bottom: 12px;
		}

		.sound-btn {
			margin-top: 0;
		}
	}

	#game_stat {
		background: #f7f6fb;
		border: 1px solid #e3e1f0;
		border-radius: 12px;
		margin: 12px 0 20px;
		width: 100%;
		max-width: 360px;
		min-height: 86px;
		vertical-align: middle;
		text-align: center;
		padding: 12px 16px;
		box-shadow: 0 10px 24px rgba(30, 27, 75, 0.08);
		font-family: $hdrFont;

		#game_stat_msg {
			@include font-size(28px);
		}

		#game_turn_msg {
			padding-top: 5px;
			@include font-size(22px);
		}
	}

	#game_board {
		max-width: 100%;

		table {
			background: transparent;
			margin: 0;
		}

		&.has-reactions {
			position: relative;
		}

		&.board-frame {
			background: #fff;
			border-radius: 16px;
			padding: 12px;
			display: inline-block;
			box-shadow: 0 16px 30px rgba(20, 20, 48, 0.12);
			max-width: 100%;
		}

		.reaction-flyers {
			position: absolute;
			inset: 0;
			pointer-events: none;
			overflow: visible;
		}

		.reaction-flyer {
			position: absolute;
			bottom: 6px;
			display: inline-flex;
			align-items: center;
			gap: 6px;
			opacity: 0;
			animation: flyUp 2.6s ease-out forwards;
			will-change: transform, opacity;
		}

		.reaction-emoji {
			@include font-size(24px);
			line-height: 1;
		}

		.reaction-text {
			@include font-size(12px);
			color: #222;
		}

		td {
			width: clamp(88px, 22vw, 130px);
			height: clamp(88px, 22vw, 130px);
			vertical-align: middle;
			text-align: center;

			&:hover {
				background: #ff0;
			}

			&.win {
				background: #f00;
			}
		}

		.vbrd {
			border-left: clamp(4px, 1.2vw, 7px) solid #000;
			border-right: clamp(4px, 1.2vw, 7px) solid #000;
		}

		.hbrd {
			border-top: clamp(4px, 1.2vw, 7px) solid #000;
			border-bottom: clamp(4px, 1.2vw, 7px) solid #000;
		}

		i {
			font-size: clamp(2.6rem, 10vw, 4.6rem);
			line-height: 1;
		}
	}

	@keyframes flyUp {
		0% { opacity: 0; transform: translateY(8px) scale(0.96); }
		15% { opacity: 1; }
		70% { opacity: 1; transform: translateY(calc(-1 * var(--rise, 60px))) scale(1.05); }
		100% { opacity: 0; transform: translateY(calc(-1 * var(--rise, 80px))) scale(0.9); }
	}

	#SpectatorView {
		.spectator-header {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 16px;
			margin-bottom: 16px;
		}

		.spectator-title {
			h2 {
				margin: 0;
			}
		}

		.leave-btn {
			margin-top: 0;
		}

		.board-area {
			position: relative;
			display: inline-block;
		}

		.floating-reactions {
			position: absolute;
			top: 8px;
			right: 8px;
			display: flex;
			flex-direction: column;
			gap: 10px;
			z-index: 3;
		}

		.reaction-icon {
			background: transparent;
			border: none;
			box-shadow: none;
			padding: 6px;
			font-size: 26px;
			line-height: 1;
			cursor: pointer;
			transition: transform 0.15s ease;
		}

		.reaction-icon:hover {
			transform: translateY(-2px) scale(1.05);
		}
	}

	#GameLobby {
		h1 {
			@include font-size(32px);
			margin: 0;
		}

		h2 {
			@include font-size(24px);
			margin: 0;
			
			.count {
				color: #888;
				font-weight: normal;
			}
		}

		.lobby-hero {
			display: flex;
			align-items: center;
			justify-content: space-between;
			flex-wrap: wrap;
			gap: 20px;
			margin-bottom: 24px;
		}

		.lobby-title {
			max-width: 520px;
		}

		.lobby-subtitle {
			margin: 6px 0 0;
			color: #6d6b80;
			@include font-size(16px);
		}

		.section-heading {
			margin: 8px 0 16px;
		}

		.section-subtitle {
			margin: 6px 0 0;
			color: #6d6b80;
			@include font-size(15px);
		}

		.play-btn {
			@include button(220px, 60px, 6px, #2e7d32, #1b5e20, #fff);
			@include font-size(20px);
			margin-top: 0;
		}

		.lobby-notice {
			padding: 20px;
			border-radius: 12px;
			background: #f7f6fb;
			border: 1px dashed #dedcf0;
			color: #555;

			.notice-title {
				font-weight: 600;
			}

			.notice-body {
				margin-top: 6px;
			}
		}

		.ongoing-games {
			.games-list {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
				gap: 16px;
			}

			.game-card {
				display: flex;
				justify-content: space-between;
				align-items: center;
				padding: 18px 20px;
				background: #fff;
				border-radius: 14px;
				border: 1px solid #ebe9f6;
				box-shadow: 0 10px 24px rgba(25, 25, 45, 0.12);
				cursor: pointer;
				transition: transform 0.2s ease, box-shadow 0.2s ease;

				&:hover {
					transform: translateY(-2px);
					box-shadow: 0 14px 32px rgba(25, 25, 45, 0.16);
				}

				.game-info {
					display: flex;
					flex-direction: column;
					gap: 6px;

					.players {
						@include font-size(18px);
						font-weight: 600;

						.vs {
							margin: 0 10px;
							color: #888;
							font-weight: normal;
						}
					}

					.spectators {
						margin-top: 5px;
						color: #666;
						@include font-size(14px);
					}
				}

				.spectate-btn {
					background: #f1f2ff;
					border: 1px solid #cbc9ea;
					color: #2b2b40;
					border-radius: 999px;
					padding: 8px 16px;
					font-weight: 600;
					cursor: pointer;
				}
			}
		}

		.connection-status {
			margin-top: 20px;
			padding: 10px;
			text-align: center;

			&.offline {
				color: #d32f2f;
			}
		}
	}

	@media (max-width: 720px) {
		.ttt-shell {
			padding: 24px 16px 32px;
		}

		.ttt-flow > h2 {
			padding: 0 16px;
		}

		#GameLobby {
			.game-card {
				flex-direction: column;
				align-items: flex-start;
				gap: 12px;
			}
		}
	}

}
